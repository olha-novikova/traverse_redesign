jQuery(function(a){function b(b){"connected"===b.status?(a(".application_details, .wp-job-manager-application-details").slideUp(),e(),a(".apply-with-facebook-details").slideDown().triggerHandler("wp-job-manager-application-details-show")):"not_authorized"===b.status?console.log("Facebook user is not authorized"):console.log("Please login to Facebook")}function c(){FB.getLoginStatus(function(a){b(a)})}function d(){FB.login(function(a){c()},{scope:"public_profile,email,user_website,user_education_history,user_work_history,user_location,user_about_me"})}function e(){var b="first_name,last_name,about,location,email,work,education,link";FB.api("/me",{fields:b},function(b){var c=g(b);a("#apply-with-facebook-profile-data").val(JSON.stringify(c,null,"")),a(".apply-with-facebook-profile .profile-name").append(c.name),a(".apply-with-facebook-profile .profile-bio").append(c.about),a(".apply-with-facebook-profile .profile-location").append(c.location.name),a(".apply-with-facebook-profile dd.profile-email").append(c.email),a.each(c.work,function(b,c){"undefined"==typeof c.end_date?a(".apply-with-facebook-profile .profile-current-positions ul").append("<li>"+c.position.name+" - "+c.employer.name+"</li>"):a(".apply-with-facebook-profile .profile-past-positions ul").append("<li>"+c.position.name+" - "+c.employer.name+"</li>")}),a.each(c.education,function(b,c){if("undefined"!=typeof c.concentration){var d="<ul>";a.each(c.concentration,function(a,b){d+="<li>"+b.name+"</li>"}),d+="</ul>"}else var d="";if("undefined"!=typeof c.year)var e=" ("+c.year.name+")";else var e="";a(".apply-with-facebook-profile .profile-educations ul").append("<li>"+c.type+" - "+c.school.name+e+d+"</li>")})}),FB.api("/me/picture/?redirect=0&type=normal&width=100",function(b){a(".apply-with-facebook-profile img").attr("src",b.data.url),a("#apply-with-facebook-profile-picture").val(b.data.url)})}var f,g,h="v2.8";f=function(a){return void 0===a||null===a},a("input.apply-with-facebook-button").click(function(){return d(),a(this).attr("disabled","disabled"),a(this).css("opacity","0.7"),!1}),window.fbAsyncInit=function(){FB.init({appId:apply_with_facebook.appID,cookie:!0,xfbml:!0,version:h})},function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk"),g=function(b){var c=jQuery.extend({},b);return f(c.name)&&(c.name=c.first_name+" "+c.last_name),f(c.about)&&(c.about=""),f(c.bio)&&(c.bio=b.about),f(c.email)&&(c.email=""),f(c.location)&&(c.location={name:"unknown"}),f(c.work)&&(c.work=[]),a.each(c.work,function(a,b){f(b.position)&&(b.position={name:"Unknown position"})}),f(c.education)&&(c.education=[]),c}});